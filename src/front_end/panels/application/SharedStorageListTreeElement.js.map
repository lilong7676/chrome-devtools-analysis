{"version":3,"file":"SharedStorageListTreeElement.js","sourceRoot":"","sources":["../../../../../../front_end/panels/application/SharedStorageListTreeElement.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,6BAA6B,CAAC;AACtD,OAAO,KAAK,IAAI,MAAM,yBAAyB,CAAC;AAChD,OAAO,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAKhD,OAAO,EAAC,2BAA2B,EAAC,MAAM,kCAAkC,CAAC;AAE7E,OAAO,EAAC,uBAAuB,EAAC,MAAM,8BAA8B,CAAC;AAErE,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,aAAa,EAAE,gBAAgB;CAChC,CAAC;AACF,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,oDAAoD,EAAE,SAAS,CAAC,CAAC;AAC1G,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AAEtE,MAAM,OAAO,4BAA6B,SAAQ,2BAA2B;IAClE,gBAAgB,CAAmC;IACnD,IAAI,CAA0B;IAEvC,YAAY,cAA8B,EAAE,uBAAuB,GAAG,KAAK;QACzE,KAAK,CAAC,cAAc,EAAE,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE,KAAK,CAAC,CAAC;QAClE,IAAI,CAAC,gBAAgB;YACjB,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,aAAa,CAAC,gCAAgC,EAAE,uBAAuB,CAAC,CAAC;QACjH,MAAM,iBAAiB,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,oBAAoB,CAAC,CAAC;QAC3F,IAAI,CAAC,eAAe,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,uBAAuB,EAAE,CAAC;IAC5C,CAAC;IAED,IAAI,OAAO;QACT,OAAO,mBAAsD,CAAC;IAChE,CAAC;IAED,QAAQ,CAAC,cAAiC;QACxC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC/B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,OAAO,KAAK,CAAC;IACf,CAAC;IAED,QAAQ;QACN,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjB,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,EAAE;YAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,UAAU;QACR,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,QAAQ,CAAC,KAAkD;QACzD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;CACF","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport type * as Platform from '../../core/platform/platform.js';\n\nimport {ApplicationPanelTreeElement} from './ApplicationPanelTreeElement.js';\nimport {type ResourcesPanel} from './ResourcesPanel.js';\nimport {SharedStorageEventsView} from './SharedStorageEventsView.js';\n\nconst UIStrings = {\n  /**\n   *@description Text in SharedStorage Category View of the Application panel\n   */\n  sharedStorage: 'Shared Storage',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/application/SharedStorageListTreeElement.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class SharedStorageListTreeElement extends ApplicationPanelTreeElement {\n  readonly #expandedSetting: Common.Settings.Setting<boolean>;\n  readonly view: SharedStorageEventsView;\n\n  constructor(resourcesPanel: ResourcesPanel, expandedSettingsDefault = false) {\n    super(resourcesPanel, i18nString(UIStrings.sharedStorage), false);\n    this.#expandedSetting =\n        Common.Settings.Settings.instance().createSetting('resourcesSharedStorageExpanded', expandedSettingsDefault);\n    const sharedStorageIcon = UI.Icon.Icon.create('mediumicon-database', 'resource-tree-item');\n    this.setLeadingIcons([sharedStorageIcon]);\n    this.view = new SharedStorageEventsView();\n  }\n\n  get itemURL(): Platform.DevToolsPath.UrlString {\n    return 'shared-storage://' as Platform.DevToolsPath.UrlString;\n  }\n\n  onselect(selectedByUser: boolean|undefined): boolean {\n    super.onselect(selectedByUser);\n    this.resourcesPanel.showView(this.view);\n    return false;\n  }\n\n  onattach(): void {\n    super.onattach();\n    if (this.#expandedSetting.get()) {\n      this.expand();\n    }\n  }\n\n  onexpand(): void {\n    this.#expandedSetting.set(true);\n  }\n\n  oncollapse(): void {\n    this.#expandedSetting.set(false);\n  }\n\n  addEvent(event: Protocol.Storage.SharedStorageAccessedEvent): void {\n    this.view.addEvent(event);\n  }\n}\n"]}